@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using Microsoft.AspNetCore.Identity
@model HomeMovieViewModel
@using Movies.EntityModels
@inject UserManager<IdentityUser> UserManager

@await Html.PartialAsync("_MovieDetails", Model.Movie)

<hr />
<h2>Add your comment: </h2>

    <form method="post" asp-controller="Comment" asp-action="AddComment">
        @Html.AntiForgeryToken()
        <div><input name="MovieId" value="@Model.Movie.MovieId" hidden />
        <div><input name="UserId" type="text" value="@UserManager.GetUserId(User)" hidden />

        <div>
            <label for="Title">Title: </label>
            <input type="text" id="Title" name="Title">
        </div>
        <div>
            <label for="Description">Description: </label>
            <textarea type="text" id="Description" name="Description"></textarea>
        </div>

        <button type="submit" class="btn btn-outline-primary">Submit comment</button>
    </form>


@await Html.PartialAsync("_CommentsList", Model.Movie)
